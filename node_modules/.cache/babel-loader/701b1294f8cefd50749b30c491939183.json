{"ast":null,"code":"import _objectSpread from \"/Users/sergey/code/grow/pres2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\n\nvar _jsxFileName = \"/Users/sergey/code/grow/pres2/src/index.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$();\n\nimport ReactDOM from \"react-dom\";\nimport React, { Suspense, useEffect, useRef, useMemo } from \"react\";\nimport { Canvas, useLoader, useFrame } from \"@react-three/fiber\";\nimport { Html } from \"@react-three/drei\";\nimport { TextureLoader, LinearFilter } from \"three\";\nimport lerp from \"lerp\";\nimport { Text, MultilineText } from \"./components/Text\";\nimport Diamonds from \"./diamonds/Diamonds\";\nimport Plane from \"./components/Plane\";\nimport { Block, useBlock } from \"./blocks\";\nimport state from \"./store\";\nimport \"./styles.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Startup() {\n  _s();\n\n  var ref = useRef();\n  useFrame(function () {\n    return ref.current.material.opacity = lerp(ref.current.material.opacity, 0, 0.025);\n  });\n  return /*#__PURE__*/_jsxDEV(Plane, {\n    ref: ref,\n    color: \"#0e0e0f\",\n    position: [0, 0, 200],\n    scale: [100, 100, 1]\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 10\n  }, this);\n}\n\n_s(Startup, \"8QVLrcMdYxPUkj6ry5zpyt6J6X8=\", false, function () {\n  return [useFrame];\n});\n\n_c = Startup;\n\nfunction Paragraph(_ref) {\n  _s2();\n\n  var image = _ref.image,\n      index = _ref.index,\n      offset = _ref.offset,\n      factor = _ref.factor,\n      header = _ref.header,\n      aspect = _ref.aspect,\n      text = _ref.text;\n\n  var _useBlock = useBlock(),\n      w = _useBlock.contentMaxWidth,\n      canvasWidth = _useBlock.canvasWidth,\n      margin = _useBlock.margin,\n      mobile = _useBlock.mobile;\n\n  var size = aspect < 1 && !mobile ? 0.65 : 1;\n  var alignRight = (canvasWidth - w * size - margin) / 2;\n  var pixelWidth = w * state.zoom * size;\n  var left = !(index % 2);\n  var color = index % 2 ? \"#D40749\" : \"#2FE8C3\";\n  return /*#__PURE__*/_jsxDEV(Block, {\n    factor: factor,\n    offset: offset,\n    children: /*#__PURE__*/_jsxDEV(\"group\", {\n      position: [left ? -alignRight : alignRight, 0, 0],\n      children: [/*#__PURE__*/_jsxDEV(Plane, {\n        map: image,\n        args: [1, 1, 32, 32],\n        shift: 75,\n        size: size,\n        aspect: aspect,\n        scale: [w * size, w * size / aspect, 1],\n        frustumCulled: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Html, {\n        style: {\n          width: pixelWidth / (mobile ? 1 : 2),\n          textAlign: left ? \"left\" : \"right\"\n        },\n        position: [left || mobile ? -w * size / 2 : 0, -w * size / 2 / aspect - 0.4, 1],\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          tabIndex: index,\n          children: text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        left: left,\n        right: !left,\n        size: w * 0.04,\n        color: color,\n        top: true,\n        position: [(left ? -w : w) * size / 2, w * size / aspect / 2 + 0.5, -1],\n        children: header\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Block, {\n        factor: 0.2,\n        children: /*#__PURE__*/_jsxDEV(Text, {\n          opacity: 0.5,\n          size: w * 0.5,\n          color: \"#1A1E2A\",\n          position: [(left ? w : -w) / 2 * size, w * size / aspect / 1, -10],\n          children: \"0\" + (index + 1)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(Paragraph, \"dDKrz1NT00bpzCJaKDGj2bUqhu8=\", false, function () {\n  return [useBlock];\n});\n\n_c2 = Paragraph;\n\nfunction Content() {\n  _s3();\n\n  var _this = this;\n\n  var images = useLoader(TextureLoader, state.paragraphs.map(function (_ref2) {\n    var image = _ref2.image;\n    return image;\n  }));\n  useMemo(function () {\n    return images.forEach(function (texture) {\n      return texture.minFilter = LinearFilter;\n    });\n  }, [images]);\n\n  var _useBlock2 = useBlock(),\n      w = _useBlock2.contentMaxWidth,\n      canvasWidth = _useBlock2.canvasWidth,\n      canvasHeight = _useBlock2.canvasHeight,\n      mobile = _useBlock2.mobile;\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Block, {\n      factor: 1,\n      offset: 0,\n      children: [/*#__PURE__*/_jsxDEV(Block, {\n        factor: 1.2,\n        children: /*#__PURE__*/_jsxDEV(Plane, {\n          args: [50, height, 32, 32],\n          map: images[3],\n          shift: 1,\n          size: 23,\n          aspect: 0.2,\n          scale: [3 * 0.5, 3 * 0.5 / 1.2, 1]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Block, {\n        factor: 1.0,\n        children: /*#__PURE__*/_jsxDEV(Html, {\n          className: \"bottom-left\",\n          style: {\n            color: \"white\"\n          },\n          position: [-canvasWidth / 2, -canvasHeight / 2, 0],\n          children: [\"It was the year 2076.\", mobile ? /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 44\n          }, this) : \" \", \"The substance had arrived.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Block, {\n      factor: 1.2,\n      offset: 5.7,\n      children: /*#__PURE__*/_jsxDEV(MultilineText, {\n        top: true,\n        left: true,\n        size: w * 0.15,\n        lineHeight: w / 3,\n        position: [-w / 3.5, 0, -1],\n        color: \"#2fe8c3\",\n        text: \"ZERO\\nDOWN\\nTIME\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), state.paragraphs.map(function (props, index) {\n      return /*#__PURE__*/_jsxDEV(Paragraph, _objectSpread(_objectSpread({\n        index: index\n      }, props), {}, {\n        image: images[index]\n      }), index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, _this);\n    }), state.stripes.map(function (_ref3, index) {\n      var offset = _ref3.offset,\n          color = _ref3.color,\n          height = _ref3.height;\n      return /*#__PURE__*/_jsxDEV(Block, {\n        factor: -1.5,\n        offset: offset,\n        children: /*#__PURE__*/_jsxDEV(Plane, {\n          args: [50, height, 32, 32],\n          shift: -4,\n          color: color,\n          rotation: [0, 0, Math.PI / 8],\n          position: [0, 0, -10]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, _this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, _this);\n    }), /*#__PURE__*/_jsxDEV(Block, {\n      factor: 1.25,\n      offset: 8,\n      children: /*#__PURE__*/_jsxDEV(Html, {\n        style: {\n          color: \"white\"\n        },\n        className: \"bottom-left\",\n        position: [-canvasWidth / 2, -canvasHeight / 2, 0],\n        children: \"Culture is not your friend.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s3(Content, \"0v298uTeqPppW6ypCrwqYTgiKi0=\", false, function () {\n  return [useLoader, useBlock];\n});\n\n_c3 = Content;\n\nfunction App() {\n  _s4();\n\n  var _this2 = this;\n\n  var scrollArea = useRef();\n\n  var onScroll = function onScroll(e) {\n    return state.top.current = e.target.scrollTop;\n  };\n\n  useEffect(function () {\n    return void onScroll({\n      target: scrollArea.current\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Canvas, {\n      linear: true,\n      dpr: [1, 2],\n      orthographic: true,\n      camera: {\n        zoom: state.zoom,\n        position: [0, 0, 500]\n      },\n      children: /*#__PURE__*/_jsxDEV(Suspense, {\n        fallback: /*#__PURE__*/_jsxDEV(Html, {\n          center: true,\n          className: \"loading\",\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 29\n        }, this),\n        children: [/*#__PURE__*/_jsxDEV(Content, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Diamonds, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Startup, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"scrollArea\",\n      ref: scrollArea,\n      onScroll: onScroll,\n      children: new Array(state.sections).fill().map(function (_, index) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"0\" + index,\n          style: {\n            height: \"\".concat(state.pages / state.sections * 100, \"vh\")\n          }\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, _this2);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s4(App, \"zcHXMF1kvKN5StHFo2280CRfmxc=\");\n\n_c4 = App;\nReactDOM.render( /*#__PURE__*/_jsxDEV(App, {}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 110,\n  columnNumber: 17\n}, this), document.getElementById(\"root\"));\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Startup\");\n$RefreshReg$(_c2, \"Paragraph\");\n$RefreshReg$(_c3, \"Content\");\n$RefreshReg$(_c4, \"App\");","map":{"version":3,"sources":["/Users/sergey/code/grow/pres2/src/index.js"],"names":["ReactDOM","React","Suspense","useEffect","useRef","useMemo","Canvas","useLoader","useFrame","Html","TextureLoader","LinearFilter","lerp","Text","MultilineText","Diamonds","Plane","Block","useBlock","state","Startup","ref","current","material","opacity","Paragraph","image","index","offset","factor","header","aspect","text","w","contentMaxWidth","canvasWidth","margin","mobile","size","alignRight","pixelWidth","zoom","left","color","width","textAlign","Content","images","paragraphs","map","forEach","texture","minFilter","canvasHeight","height","props","stripes","Math","PI","App","scrollArea","onScroll","e","top","target","scrollTop","position","Array","sections","fill","_","pages","render","document","getElementById"],"mappings":"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","sourcesContent":["import ReactDOM from \"react-dom\"\nimport React, { Suspense, useEffect, useRef, useMemo } from \"react\"\nimport { Canvas, useLoader, useFrame } from \"@react-three/fiber\"\nimport { Html } from \"@react-three/drei\"\nimport { TextureLoader, LinearFilter } from \"three\"\nimport lerp from \"lerp\"\nimport { Text, MultilineText } from \"./components/Text\"\nimport Diamonds from \"./diamonds/Diamonds\"\nimport Plane from \"./components/Plane\"\nimport { Block, useBlock } from \"./blocks\"\nimport state from \"./store\"\nimport \"./styles.css\"\n\nfunction Startup() {\n  const ref = useRef()\n  useFrame(() => (ref.current.material.opacity = lerp(ref.current.material.opacity, 0, 0.025)))\n  return <Plane ref={ref} color=\"#0e0e0f\" position={[0, 0, 200]} scale={[100, 100, 1]} />\n}\n\nfunction Paragraph({ image, index, offset, factor, header, aspect, text }) {\n  const { contentMaxWidth: w, canvasWidth, margin, mobile } = useBlock()\n  const size = aspect < 1 && !mobile ? 0.65 : 1\n  const alignRight = (canvasWidth - w * size - margin) / 2\n  const pixelWidth = w * state.zoom * size\n  const left = !(index % 2)\n  const color = index % 2 ? \"#D40749\" : \"#2FE8C3\"\n  return (\n    <Block factor={factor} offset={offset}>\n      <group position={[left ? -alignRight : alignRight, 0, 0]}>\n        <Plane map={image} args={[1, 1, 32, 32]} shift={75} size={size} aspect={aspect} scale={[w * size, (w * size) / aspect, 1]} frustumCulled={false} />\n        <Html\n          style={{ width: pixelWidth / (mobile ? 1 : 2), textAlign: left ? \"left\" : \"right\" }}\n          position={[left || mobile ? (-w * size) / 2 : 0, (-w * size) / 2 / aspect - 0.4, 1]}>\n          <div tabIndex={index}>{text}</div>\n        </Html>\n        <Text left={left} right={!left} size={w * 0.04} color={color} top position={[((left ? -w : w) * size) / 2, (w * size) / aspect / 2 + 0.5, -1]}>\n          {header}\n        </Text>\n        <Block factor={0.2}>\n          <Text opacity={0.5} size={w * 0.5} color=\"#1A1E2A\" position={[((left ? w : -w) / 2) * size, (w * size) / aspect / 1, -10]}>\n            {\"0\" + (index + 1)}\n          </Text>\n        </Block>\n      </group>\n    </Block>\n  )\n}\n\nfunction Content() {\n  const images = useLoader(\n    TextureLoader,\n    state.paragraphs.map(({ image }) => image)\n  )\n  useMemo(() => images.forEach((texture) => (texture.minFilter = LinearFilter)), [images])\n  const { contentMaxWidth: w, canvasWidth, canvasHeight, mobile } = useBlock()\n  return (\n    <>\n      <Block factor={1} offset={0}>\n        <Block factor={1.2}>\n          <Plane args={[50, height, 32, 32]} map={images[3]} shift={1} size={23} aspect={0.2} scale={[3 * 0.5, (3 * 0.5) / 1.2, 1]} />\n        </Block>\n        <Block factor={1.0}>\n          <Html className=\"bottom-left\" style={{ color: \"white\" }} position={[-canvasWidth / 2, -canvasHeight / 2, 0]}>\n            It was the year 2076.{mobile ? <br /> : \" \"}The substance had arrived.\n          </Html>\n        </Block>\n      </Block>\n      <Block factor={1.2} offset={5.7}>\n        <MultilineText top left size={w * 0.15} lineHeight={w / 3} position={[-w / 3.5, 0, -1]} color=\"#2fe8c3\" text={\"ZERO\\nDOWN\\nTIME\"} />\n      </Block>\n      {state.paragraphs.map((props, index) => (\n        <Paragraph key={index} index={index} {...props} image={images[index]} />\n      ))}\n      {state.stripes.map(({ offset, color, height }, index) => (\n        <Block key={index} factor={-1.5} offset={offset}>\n          <Plane args={[50, height, 32, 32]} shift={-4} color={color} rotation={[0, 0, Math.PI / 8]} position={[0, 0, -10]} />\n        </Block>\n      ))}\n      <Block factor={1.25} offset={8}>\n        <Html style={{ color: \"white\" }} className=\"bottom-left\" position={[-canvasWidth / 2, -canvasHeight / 2, 0]}>\n          Culture is not your friend.\n        </Html>\n      </Block>\n    </>\n  )\n}\n\nfunction App() {\n  const scrollArea = useRef()\n  const onScroll = (e) => (state.top.current = e.target.scrollTop)\n  useEffect(() => void onScroll({ target: scrollArea.current }), [])\n  return (\n    <>\n      <Canvas linear dpr={[1, 2]} orthographic camera={{ zoom: state.zoom, position: [0, 0, 500] }}>\n        <Suspense fallback={<Html center className=\"loading\" children=\"Loading...\" />}>\n          <Content />\n          <Diamonds />\n          <Startup />\n        </Suspense>\n      </Canvas>\n      <div className=\"scrollArea\" ref={scrollArea} onScroll={onScroll}>\n        {new Array(state.sections).fill().map((_, index) => (\n          <div key={index} id={\"0\" + index} style={{ height: `${(state.pages / state.sections) * 100}vh` }} />\n        ))}\n      </div>\n    </>\n  )\n}\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"]},"metadata":{},"sourceType":"module"}