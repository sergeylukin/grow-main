{"ast":null,"code":"import _objectSpread from\"/Users/sergey/code/grow/pres2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import ReactDOM from\"react-dom\";import React,{Suspense,useEffect,useRef,useMemo}from\"react\";import{Canvas,useLoader,useFrame}from\"@react-three/fiber\";import{Html}from\"@react-three/drei\";import{TextureLoader,LinearFilter}from\"three\";import lerp from\"lerp\";import{Text,MultilineText}from\"./components/Text\";import Diamonds from\"./diamonds/Diamonds\";import Plane from\"./components/Plane\";import{Block,useBlock}from\"./blocks\";import state from\"./store\";import\"./styles.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Startup(){var ref=useRef();useFrame(function(){return ref.current.material.opacity=lerp(ref.current.material.opacity,0,0.025);});return/*#__PURE__*/_jsx(Plane,{ref:ref,color:\"#0e0e0f\",position:[0,0,200],scale:[100,100,1]});}function Paragraph(_ref){var image=_ref.image,index=_ref.index,offset=_ref.offset,factor=_ref.factor,header=_ref.header,aspect=_ref.aspect,text=_ref.text;var _useBlock=useBlock(),w=_useBlock.contentMaxWidth,canvasWidth=_useBlock.canvasWidth,margin=_useBlock.margin,mobile=_useBlock.mobile;var size=aspect<1&&!mobile?0.65:1;var alignRight=(canvasWidth-w*size-margin)/2;var pixelWidth=w*state.zoom*size;var left=!(index%2);var color=index%2?\"#D40749\":\"#2FE8C3\";return/*#__PURE__*/_jsx(Block,{factor:factor,offset:offset,children:/*#__PURE__*/_jsxs(\"group\",{position:[left?-alignRight:alignRight,0,0],children:[/*#__PURE__*/_jsx(Plane,{map:image,args:[1,1,32,32],shift:75,size:size,aspect:aspect,scale:[w*size,w*size/aspect,1],frustumCulled:false}),/*#__PURE__*/_jsx(Html,{style:{width:pixelWidth/(mobile?1:2),textAlign:left?\"left\":\"right\"},position:[left||mobile?-w*size/2:0,-w*size/2/aspect-0.4,1],children:/*#__PURE__*/_jsx(\"div\",{tabIndex:index,children:text})}),/*#__PURE__*/_jsx(Text,{left:left,right:!left,size:w*0.04,color:color,top:true,position:[(left?-w:w)*size/2,w*size/aspect/2+0.5,-1],children:header}),/*#__PURE__*/_jsx(Block,{factor:0.2,children:/*#__PURE__*/_jsx(Text,{opacity:0.5,size:w*0.5,color:\"#1A1E2A\",position:[(left?w:-w)/2*size,w*size/aspect/1,-10],children:\"0\"+(index+1)})})]})});}function Content(){var images=useLoader(TextureLoader,state.paragraphs.map(function(_ref2){var image=_ref2.image;return image;}));useMemo(function(){return images.forEach(function(texture){return texture.minFilter=LinearFilter;});},[images]);var _useBlock2=useBlock(),w=_useBlock2.contentMaxWidth,canvasWidth=_useBlock2.canvasWidth,canvasHeight=_useBlock2.canvasHeight,mobile=_useBlock2.mobile;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Block,{factor:1,offset:0,children:[/*#__PURE__*/_jsx(Block,{offset:-0.1,shift:0.3,factor:2.1,children:/*#__PURE__*/_jsx(\"group\",{position:[2,-2,0],children:/*#__PURE__*/_jsx(Plane,{map:images[0],shift:15,factor:2,aspect:0.3,args:[24,19,22,22],ssize:24})})}),/*#__PURE__*/_jsx(Block,{factor:1.0,children:/*#__PURE__*/_jsxs(Html,{className:\"bottom-left\",style:{color:\"white\"},position:[-canvasWidth/2,-canvasHeight/2,0],children:[\"It was the year 2076.\",mobile?/*#__PURE__*/_jsx(\"br\",{}):\" \",\"The substance had arrived.\"]})})]}),/*#__PURE__*/_jsx(Block,{factor:1.2,offset:5.7,children:/*#__PURE__*/_jsx(MultilineText,{top:true,left:true,size:w*0.15,lineHeight:w/3,position:[-w/3.5,0,-1],color:\"#2fe8c3\",text:\"ZERO\\nDOWN\\nTIME\"})}),state.paragraphs.map(function(props,index){return/*#__PURE__*/_jsx(Paragraph,_objectSpread(_objectSpread({index:index},props),{},{image:images[index]}),index);}),state.stripes.map(function(_ref3,index){var offset=_ref3.offset,color=_ref3.color,height=_ref3.height;return/*#__PURE__*/_jsx(Block,{factor:-1.5,offset:offset,children:/*#__PURE__*/_jsx(Plane,{args:[50,height,32,32],shift:-4,color:color,rotation:[0,0,Math.PI/8],position:[0,0,-10]})},index);}),/*#__PURE__*/_jsx(Block,{factor:1.25,offset:8,children:/*#__PURE__*/_jsx(Html,{style:{color:\"white\"},className:\"bottom-left\",position:[-canvasWidth/2,-canvasHeight/2,0],children:\"Culture is not your friend.\"})})]});}function App(){var scrollArea=useRef();var onScroll=function onScroll(e){return state.top.current=e.target.scrollTop;};useEffect(function(){return void onScroll({target:scrollArea.current});},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Canvas,{linear:true,dpr:[1,2],orthographic:true,camera:{zoom:state.zoom,position:[0,0,500]},children:/*#__PURE__*/_jsxs(Suspense,{fallback:/*#__PURE__*/_jsx(Html,{center:true,className:\"loading\",children:\"Loading...\"}),children:[/*#__PURE__*/_jsx(Content,{}),/*#__PURE__*/_jsx(Diamonds,{}),/*#__PURE__*/_jsx(Startup,{})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"scrollArea\",ref:scrollArea,onScroll:onScroll,children:new Array(state.sections).fill().map(function(_,index){return/*#__PURE__*/_jsx(\"div\",{id:\"0\"+index,style:{height:\"\".concat(state.pages/state.sections*100,\"vh\")}},index);})})]});}ReactDOM.render(/*#__PURE__*/_jsx(App,{}),document.getElementById(\"root\"));","map":{"version":3,"sources":["/Users/sergey/code/grow/pres2/src/index.js"],"names":["ReactDOM","React","Suspense","useEffect","useRef","useMemo","Canvas","useLoader","useFrame","Html","TextureLoader","LinearFilter","lerp","Text","MultilineText","Diamonds","Plane","Block","useBlock","state","Startup","ref","current","material","opacity","Paragraph","image","index","offset","factor","header","aspect","text","w","contentMaxWidth","canvasWidth","margin","mobile","size","alignRight","pixelWidth","zoom","left","color","width","textAlign","Content","images","paragraphs","map","forEach","texture","minFilter","canvasHeight","props","stripes","height","Math","PI","App","scrollArea","onScroll","e","top","target","scrollTop","position","Array","sections","fill","_","pages","render","document","getElementById"],"mappings":"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","sourcesContent":["import ReactDOM from \"react-dom\"\nimport React, { Suspense, useEffect, useRef, useMemo } from \"react\"\nimport { Canvas, useLoader, useFrame } from \"@react-three/fiber\"\nimport { Html } from \"@react-three/drei\"\nimport { TextureLoader, LinearFilter } from \"three\"\nimport lerp from \"lerp\"\nimport { Text, MultilineText } from \"./components/Text\"\nimport Diamonds from \"./diamonds/Diamonds\"\nimport Plane from \"./components/Plane\"\nimport { Block, useBlock } from \"./blocks\"\nimport state from \"./store\"\nimport \"./styles.css\"\n\nfunction Startup() {\n  const ref = useRef()\n  useFrame(() => (ref.current.material.opacity = lerp(ref.current.material.opacity, 0, 0.025)))\n  return <Plane ref={ref} color=\"#0e0e0f\" position={[0, 0, 200]} scale={[100, 100, 1]} />\n}\n\nfunction Paragraph({ image, index, offset, factor, header, aspect, text }) {\n  const { contentMaxWidth: w, canvasWidth, margin, mobile } = useBlock()\n  const size = aspect < 1 && !mobile ? 0.65 : 1\n  const alignRight = (canvasWidth - w * size - margin) / 2\n  const pixelWidth = w * state.zoom * size\n  const left = !(index % 2)\n  const color = index % 2 ? \"#D40749\" : \"#2FE8C3\"\n  return (\n    <Block factor={factor} offset={offset}>\n      <group position={[left ? -alignRight : alignRight, 0, 0]}>\n        <Plane map={image} args={[1, 1, 32, 32]} shift={75} size={size} aspect={aspect} scale={[w * size, (w * size) / aspect, 1]} frustumCulled={false} />\n        <Html\n          style={{ width: pixelWidth / (mobile ? 1 : 2), textAlign: left ? \"left\" : \"right\" }}\n          position={[left || mobile ? (-w * size) / 2 : 0, (-w * size) / 2 / aspect - 0.4, 1]}>\n          <div tabIndex={index}>{text}</div>\n        </Html>\n        <Text left={left} right={!left} size={w * 0.04} color={color} top position={[((left ? -w : w) * size) / 2, (w * size) / aspect / 2 + 0.5, -1]}>\n          {header}\n        </Text>\n        <Block factor={0.2}>\n          <Text opacity={0.5} size={w * 0.5} color=\"#1A1E2A\" position={[((left ? w : -w) / 2) * size, (w * size) / aspect / 1, -10]}>\n            {\"0\" + (index + 1)}\n          </Text>\n        </Block>\n      </group>\n    </Block>\n  )\n}\n\nfunction Content() {\n  const images = useLoader(\n    TextureLoader,\n    state.paragraphs.map(({ image }) => image)\n  )\n  useMemo(() => images.forEach((texture) => (texture.minFilter = LinearFilter)), [images])\n  const { contentMaxWidth: w, canvasWidth, canvasHeight, mobile } = useBlock()\n  return (\n    <>\n      <Block factor={1} offset={0}>\n        <Block offset={-0.1} shift={0.3} factor={2.1}>\n          <group position={[2, -2, 0]}>\n            <Plane map={images[0]} shift={15} factor={2} aspect={0.3} args={[24, 19, 22, 22]} ssize={24} />\n          </group>\n        </Block>\n        <Block factor={1.0}>\n          <Html className=\"bottom-left\" style={{ color: \"white\" }} position={[-canvasWidth / 2, -canvasHeight / 2, 0]}>\n            It was the year 2076.{mobile ? <br /> : \" \"}The substance had arrived.\n          </Html>\n        </Block>\n      </Block>\n      <Block factor={1.2} offset={5.7}>\n        <MultilineText top left size={w * 0.15} lineHeight={w / 3} position={[-w / 3.5, 0, -1]} color=\"#2fe8c3\" text={\"ZERO\\nDOWN\\nTIME\"} />\n      </Block>\n      {state.paragraphs.map((props, index) => (\n        <Paragraph key={index} index={index} {...props} image={images[index]} />\n      ))}\n      {state.stripes.map(({ offset, color, height }, index) => (\n        <Block key={index} factor={-1.5} offset={offset}>\n          <Plane args={[50, height, 32, 32]} shift={-4} color={color} rotation={[0, 0, Math.PI / 8]} position={[0, 0, -10]} />\n        </Block>\n      ))}\n      <Block factor={1.25} offset={8}>\n        <Html style={{ color: \"white\" }} className=\"bottom-left\" position={[-canvasWidth / 2, -canvasHeight / 2, 0]}>\n          Culture is not your friend.\n        </Html>\n      </Block>\n    </>\n  )\n}\n\nfunction App() {\n  const scrollArea = useRef()\n  const onScroll = (e) => (state.top.current = e.target.scrollTop)\n  useEffect(() => void onScroll({ target: scrollArea.current }), [])\n  return (\n    <>\n      <Canvas linear dpr={[1, 2]} orthographic camera={{ zoom: state.zoom, position: [0, 0, 500] }}>\n        <Suspense fallback={<Html center className=\"loading\" children=\"Loading...\" />}>\n          <Content />\n          <Diamonds />\n          <Startup />\n        </Suspense>\n      </Canvas>\n      <div className=\"scrollArea\" ref={scrollArea} onScroll={onScroll}>\n        {new Array(state.sections).fill().map((_, index) => (\n          <div key={index} id={\"0\" + index} style={{ height: `${(state.pages / state.sections) * 100}vh` }} />\n        ))}\n      </div>\n    </>\n  )\n}\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"]},"metadata":{},"sourceType":"module"}